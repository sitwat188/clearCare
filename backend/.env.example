# Database (required)
DATABASE_URL=postgresql://user:password@localhost:5432/clearcare

# JWT (required in production)
JWT_SECRET=
JWT_REFRESH_SECRET=

# PHI / 2FA encryption (required in production for encrypted patient & 2FA data)
# Generate: openssl rand -base64 32
# After seeding (or if any patients were created without encryption, e.g. via Admin), run: npm run db:encrypt
ENCRYPTION_KEY=

# Server
PORT=3000
NODE_ENV=development

# Frontend / CORS
# Single origin (required in production so reset/invitation links point to your app):
FRONTEND_URL=http://localhost:5173
# In production set to your frontend origin, e.g. FRONTEND_URL=https://app.clearcare.com

# Optional: redirect all system emails to one address. Only used when NODE_ENV !== 'production' (e.g. local/staging). In production, emails always go to the real recipient.
# PASSWORD_RESET_REDIRECT_EMAIL=your@email.com

# Email – use one of the options below to send password reset and invitation emails.
# Option A – Resend (recommended on Render): no port blocking, works over HTTP.
# Get API key at https://resend.com. Free tier: 100 emails/day. From address can be onboarding@resend.dev or your verified domain.
RESEND_API_KEY=

# Option B – SMTP (Gmail, etc.). On Render and many clouds, outbound SMTP (587/465) is blocked → use Resend instead.
# Gmail: use App Password (myaccount.google.com/apppasswords). SMTP_SECURE=false, port 587.
# Google Workspace: same; use App Password for SMTP_PASS.
# Outlook/Office 365: SMTP_HOST=smtp.office365.com, SMTP_PORT=587, SMTP_USER=your@company.com, SMTP_PASS=your password.
SMTP_HOST=
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=

# Sender shown in emails (optional). With Resend: leave unset to use onboarding@resend.dev (works on free tier); or set to an address on a domain you verified in Resend dashboard. Using an unverified domain will cause sends to fail.
MAIL_FROM=ClearCare <noreply@example.com>

# Or multiple comma-separated origins (e.g. Vercel production + preview):
# CORS_ORIGINS=https://your-app.vercel.app,https://your-app-*.vercel.app

# Medplum FHIR (optional – for using Medplum as FHIR backend)
# MEDPLUM_BASE_URL=https://api.medplum.com
# MEDPLUM_CLIENT_ID=your-client-id-from-medplum-admin-clients
# MEDPLUM_CLIENT_SECRET=your-client-secret

# Fasten Connect (optional – patient health record connections)
# Get credentials from Fasten dashboard. Test keys: public_test_*, private_test_*
# FASTEN_BASE_URL=https://api.connect.fastenhealth.com/v1
# FASTEN_PUBLIC_ID=
# FASTEN_PRIVATE_KEY=
# Optional: default catalog IDs for connect-url (from Fasten Connect Portal). If set, "Connect" button uses single source; otherwise link may still work with Stitch widget.
# FASTEN_DEFAULT_ENDPOINT_ID=
# FASTEN_DEFAULT_BRAND_ID=
# FASTEN_DEFAULT_PORTAL_ID=
